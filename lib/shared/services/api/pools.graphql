query GetPools(
  $first: Int
  $skip: Int
  $orderBy: GqlPoolOrderBy
  $orderDirection: GqlPoolOrderDirection
  $where: GqlPoolFilter
  $textSearch: String
) {
  pools: poolGetPools(
    first: $first
    skip: $skip
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    textSearch: $textSearch
  ) {
    address
    chain
    createTime
    decimals
    vaultVersion
    displayTokens {
      id
      address
      name
      weight
      symbol
      nestedTokens {
        id
        address
        name
        weight
        symbol
      }
    }
    dynamicData {
      totalLiquidity
      lifetimeVolume
      lifetimeSwapFees
      volume24h
      fees24h
      holdersCount
      swapFee
      swapsCount
      totalShares
      apr {
        apr {
          ... on GqlPoolAprTotal {
            total
          }
          ... on GqlPoolAprRange {
            min
            max
          }
        }
        hasRewardApr
        thirdPartyApr {
          ... on GqlPoolAprTotal {
            total
          }
          ... on GqlPoolAprRange {
            min
            max
          }
        }
        nativeRewardApr {
          ... on GqlPoolAprTotal {
            total
          }
          ... on GqlPoolAprRange {
            min
            max
          }
        }
        swapApr
        items {
          id
          title
          apr {
            ... on GqlPoolAprTotal {
              total
            }
            ... on GqlPoolAprRange {
              min
              max
            }
          }
          subItems {
            id
            title
            apr {
              ... on GqlPoolAprTotal {
                total
              }
              ... on GqlPoolAprRange {
                min
                max
              }
            }
          }
        }
      }
    }
    staking {
      id
      type
      chain
      address
      gauge {
        id
        gaugeAddress
        version
        status
        workingSupply
        otherGauges {
          gaugeAddress
          version
          status
          id
          rewards {
            id
            tokenAddress
            rewardPerSecond
          }
        }
        rewards {
          id
          rewardPerSecond
          tokenAddress
        }
      }
    }
    factory
    id
    name
    owner
    symbol
    type
    userBalance {
      totalBalance
      totalBalanceUsd
      stakedBalance
      walletBalance
    }
  }
  count: poolGetPoolsCount(
    first: $first
    skip: $skip
    orderBy: $orderBy
    orderDirection: $orderDirection
    where: $where
    textSearch: $textSearch
  )
}

query GetFeaturedPools($chains: [GqlChain!]!) {
  featuredPools: poolGetFeaturedPools(chains: $chains) {
    poolId
    primary
    pool {
      id
      address
      name
      version
      owner
      decimals
      factory
      symbol
      createTime
      type
      chain
      vaultVersion
      dynamicData {
        poolId
        swapEnabled
        totalLiquidity
        totalLiquidity24hAgo
        totalShares
        totalShares24hAgo
        fees24h
        swapFee
        volume24h
        fees48h
        volume48h
        lifetimeVolume
        lifetimeSwapFees
        holdersCount
        isInRecoveryMode
        isPaused
        swapsCount
        sharePriceAth
        sharePriceAthTimestamp
        sharePriceAtl
        sharePriceAtlTimestamp
        totalLiquidityAth
        totalLiquidityAthTimestamp
        totalLiquidityAtl
        totalLiquidityAtlTimestamp
        volume24hAth
        volume24hAthTimestamp
        volume24hAtl
        volume24hAtlTimestamp
        fees24hAth
        fees24hAthTimestamp
        fees24hAtl
        fees24hAtlTimestamp
        yieldCapture24h
        yieldCapture48h
        apr {
          hasRewardApr
          thirdPartyApr {
            ... on GqlPoolAprTotal {
              total
            }
            ... on GqlPoolAprRange {
              min
              max
            }
          }
          nativeRewardApr {
            ... on GqlPoolAprTotal {
              total
            }
            ... on GqlPoolAprRange {
              min
              max
            }
          }
          swapApr
          apr {
            ... on GqlPoolAprTotal {
              total
            }
            ... on GqlPoolAprRange {
              min
              max
            }
          }
          items {
            id
            title
            apr {
              ... on GqlPoolAprTotal {
                total
              }
              ... on GqlPoolAprRange {
                min
                max
              }
            }
            subItems {
              id
              title
              apr {
                ... on GqlPoolAprTotal {
                  total
                }
                ... on GqlPoolAprRange {
                  min
                  max
                }
              }
            }
          }
        }
      }
      allTokens {
        id
        address
        name
        symbol
        decimals
        isNested
        isPhantomBpt
        isMainToken
        weight
      }
      displayTokens {
        id
        address
        name
        weight
        symbol
        nestedTokens {
          id
          address
          name
          weight
          symbol
        }
      }
      staking {
        id
        type
        chain
        address
        gauge {
          id
          gaugeAddress
          version
          status
          workingSupply
          otherGauges {
            gaugeAddress
            version
            status
            id
            rewards {
              id
              tokenAddress
              rewardPerSecond
            }
          }
          rewards {
            id
            rewardPerSecond
            tokenAddress
          }
        }
      }
      investConfig {
        singleAssetEnabled
        proportionalEnabled
        options {
          poolTokenIndex
          poolTokenAddress
          tokenOptions {
            ... on GqlPoolToken {
              id
              index
              name
              symbol
              balance
              address
              priceRate
              decimals
              weight
              totalBalance
            }
          }
        }
      }
      withdrawConfig {
        singleAssetEnabled
        proportionalEnabled
        options {
          poolTokenIndex
          poolTokenAddress
          tokenOptions {
            ... on GqlPoolToken {
              id
              index
              name
              symbol
              balance
              address
              priceRate
              decimals
              weight
              totalBalance
            }
          }
        }
      }
      ... on GqlPoolWeighted {
        nestingType
        poolTokens {
          ... on GqlPoolTokenDetail {
            id
            hasNestedPool
            index
            name
            symbol
            balance
            address
            priceRate
            decimals
            weight
          }
        }
      }
      ... on GqlPoolStable {
        amp
        poolTokens {
          ... on GqlPoolTokenDetail {
            id
            hasNestedPool
            index
            name
            symbol
            balance
            address
            priceRate
            decimals
            weight
          }
        }
      }
      ... on GqlPoolMetaStable {
        amp
        poolTokens {
          ... on GqlPoolTokenDetail {
            id
            hasNestedPool
            index
            name
            symbol
            balance
            address
            priceRate
            decimals
            weight
          }
        }
      }
      ... on GqlPoolElement {
        unitSeconds
        principalToken
        baseToken
        poolTokens {
          ... on GqlPoolTokenDetail {
            id
            hasNestedPool
            index
            name
            symbol
            balance
            address
            priceRate
            decimals
            weight
          }
        }
      }
      ... on GqlPoolComposableStable {
        id
        amp
        nestingType
        bptPriceRate
        poolTokens {
          ... on GqlPoolTokenDetail {
            id
            hasNestedPool
            index
            name
            symbol
            balance
            address
            priceRate
            decimals
            weight
          }
        }
      }
      ... on GqlPoolLinear {
        mainIndex
        wrappedIndex
        lowerTarget
        upperTarget
        bptPriceRate
        poolTokens {
          ... on GqlPoolTokenDetail {
            id
            hasNestedPool
            index
            name
            symbol
            balance
            address
            priceRate
            decimals
            weight
          }
        }
      }
      ... on GqlPoolLiquidityBootstrapping {
        name
        nestingType
        poolTokens {
          ... on GqlPoolTokenDetail {
            id
            hasNestedPool
            index
            name
            symbol
            balance
            address
            priceRate
            decimals
            weight
          }
        }
      }
      ... on GqlPoolGyro {
        alpha
        beta
        type
        c
        dSq
        lambda
        root3Alpha
        s
        sqrtAlpha
        sqrtBeta
        tauAlphaX
        tauAlphaY
        tauBetaX
        tauBetaY
        u
        v
        w
        z
        type
        nestingType
        poolTokens {
          ... on GqlPoolTokenDetail {
            id
            hasNestedPool
            index
            name
            symbol
            balance
            address
            priceRate
            decimals
            weight
          }
        }
      }
      ... on GqlPoolFx {
        alpha
        beta
        delta
        epsilon
        lambda
        poolTokens {
          ... on GqlPoolTokenDetail {
            id
            hasNestedPool
            index
            name
            symbol
            balance
            address
            priceRate
            decimals
            weight
          }
        }
      }
    }
  }
}
